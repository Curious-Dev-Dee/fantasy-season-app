<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <title>Cricket Experts · Edit Team</title>

  <link rel="stylesheet" href="css/team-builder.css" />
</head>

<body>

  <div class="app edit-team-app">

    <!-- ================= HEADER ================= -->
    <header class="edit-header">
      <a href="home.html" class="icon-back" aria-label="Go back">←</a>
      <h1 class="header-title">Edit Team</h1>
      <span class="edit-note">Next match</span>
    </header>

    <!-- ================= TOGGLE ================= -->
    <nav class="edit-toggle" aria-label="Edit mode toggle">
      <button class="toggle-btn active" data-mode="myxi" type="button">
        My XI
      </button>
      <button class="toggle-btn" data-mode="change" type="button">
        Change Players
      </button>
    </nav>

    <!-- ================= CONTENT ================= -->
    <main class="content edit-content">

      <!-- ================= TEAM STATUS (NEW DREAM STYLE) ================= -->
      <section class="team-status">

        <div class="status-top">
          <div class="player-count">
            <strong id="playerCount">0</strong>
            <span>/ 11</span>
          </div>

          <div class="credits-left">
            <span id="creditsLeft">100</span> cr left
          </div>
        </div>

        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="subs-info" id="subsInfo">
          Subs: Unlimited
        </div>

      </section>

      <!-- ================= MY XI MODE ================= -->
      <section class="edit-mode myxi-mode active" aria-label="My Playing Eleven">
        <div class="player-list" id="myXIList" role="list">
          <!-- Selected players injected by JS -->
        </div>
      </section>

      <!-- ================= CHANGE PLAYERS MODE ================= -->
      <section class="edit-mode change-mode" aria-label="Change Players">

        <div class="change-filters">

          <!-- SEARCH -->
          <input
            type="search"
            id="playerSearch"
            placeholder="Search player"
            aria-label="Search player"
            autocomplete="off"
          />

          <!-- ROLE FILTERS WITH LIVE COUNTS -->
          <div class="role-filters" role="tablist">

            <button class="role-filter-btn active" data-role="ALL" type="button">
              All
            </button>

            <button class="role-filter-btn" data-role="WK" type="button">
              WK (<span class="role-count" data-count="WK">0</span>)
            </button>

            <button class="role-filter-btn" data-role="BAT" type="button">
              BAT (<span class="role-count" data-count="BAT">0</span>)
            </button>

            <button class="role-filter-btn" data-role="AR" type="button">
              AR (<span class="role-count" data-count="AR">0</span>)
            </button>

            <button class="role-filter-btn" data-role="BOWL" type="button">
              BOWL (<span class="role-count" data-count="BOWL">0</span>)
            </button>

          </div>

          <!-- DROPDOWN FILTERS -->
          <div class="dropdown-filters">

            <!-- MATCH FILTER -->
            <div class="dropdown">
              <button
                class="dropdown-toggle"
                id="matchToggle"
                type="button"
                aria-haspopup="listbox"
              >
                Match ▼
              </button>

              <div
                class="dropdown-menu"
                id="matchMenu"
                role="listbox"
              >
                <!-- Injected by JS -->
              </div>
            </div>

            <!-- TEAM FILTER -->
            <div class="dropdown">
              <button
                class="dropdown-toggle"
                id="teamToggle"
                type="button"
                aria-haspopup="listbox"
              >
                Team ▼
              </button>

              <div
                class="dropdown-menu scrollable"
                id="teamMenu"
                role="listbox"
              >
                <!-- Injected by JS -->
              </div>
            </div>

            <!-- CREDIT FILTER -->
            <div class="dropdown">
              <button
                class="dropdown-toggle"
                id="creditToggle"
                type="button"
                aria-haspopup="listbox"
              >
                Credit ▼
              </button>

              <div
                class="dropdown-menu scrollable"
                id="creditMenu"
                role="listbox"
              >
                <!-- Injected by JS -->
              </div>
            </div>

          </div>
        </div>

        <!-- PLAYER POOL -->
        <div class="player-list" id="playerPoolList" role="list">
          <!-- Player cards injected by JS -->
        </div>

      </section>

    </main>

    <!-- ================= SAVE BAR ================= -->
    <footer class="save-bar disabled" role="contentinfo">
      <button class="save-btn" type="button" aria-disabled="true">
        Save Team
      </button>
      <p class="save-hint">
        Team locks automatically at match start
      </p>
    </footer>

  </div>

  <!-- ================= SCRIPTS ================= -->
  <script type="module" src="edit-team.js"></script>
  <script type="module" src="auth-guard.js"></script>

</body>
</html>
